var appext=module("appext");appext.register("window",function(){return window});appext.service("console",["window",function(c){var a,b;a=c.console||{log:function(){c.alert(Array.prototype.slice.call(arguments,0).join("\n"))}};b=function(d){return function(){var e=Array.prototype.slice.call(arguments,0);d=a[d]?d:"log";a[d].apply(a,e)}};return{log:b("log"),warn:b("warn"),error:b("error")}}]);module("appjs").service("globalCache",["globals",function(a){a.globalCache=a.globalCache||{};return{get:function(b){return a.globalCache[b]},set:function(b,c){a.globalCache[b]=c}}}]);(function(e,a,b){var c,d;d={pkgSrc:null,install:function(g,i,h){var f=[];g=c.asArray(g);b.each(g,function(k){var j,l=c.cache[k];if(!l){j=c.promisePackage(k);f.push(j);c.cache[k]=j}f.push(l)});i=i||function(){};h=h||this;return a.when.apply(a,f).then(function(){setTimeout(b.bind(i,h),100)})},register:function(f){c.cache[f]=c.resolved();d.registered.unshift(f)},registered:[]};c={cache:{},asArray:function(f){return b.isArray(f)?f:[f]},resolved:function(){return a.Deferred().resolve().promise()},url:function(f){return d.pkgSrc+"?name="+f},promisePackage:function(g){var h=a.Deferred(),f=a.get(c.url(g));f.then(function(j){var i=j.dependencies?d.install(j.dependencies):c.resolved();i.then(function(){var k;k=[c.promiseScripts(j.scripts),c.promiseStyles(j.styles),c.promiseTemplates(j.templates)];a.when.apply(a,k).then(h.resolve)})});return h.promise()},promiseScripts:function(g){var f=a.Deferred(),h=[];if(!g||g.length===0){return c.resolved()}g=c.asArray(g);b.each(g,function(i){h.push(a.getScript(i))});a.when.apply(a,h).then(f.resolve);return f.promise()},promiseStyles:function(f){b.each(f,function(g){a("head").append(a("<link/>").attr({rel:"stylesheet",type:"text/css",href:g}))});return c.resolved()},promiseTemplates:function(g){var f=a.Deferred(),h=[];if(!g||g.length===0){return c.resolved()}g=c.asArray(g);b.each(g,function(j){var i=a.ajax({url:j,dataType:"html"}).then(function(k){a(e.document.body).append(k)});h.push(i)});a.when.apply(a,h).then(f.resolve);return f.promise()}};e.JSPM=d}(window,jQuery,_));